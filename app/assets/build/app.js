!function(){"use strict";angular.module("schoolApp",["ngRoute"])}(),function(){"use strict";var o=function(o,e){this.userAddDetailsToRESTService=o,this.$q=e};o.prototype.createUser=function(o){console.log("get questions form service");var e=this.$q.defer();return this.userAddDetailsToRESTService.createUser(o).then(function(o){console.log("questions",o),e.resolve(o)}).catch(function(o){e.reject(o)}),e.promise},angular.module("schoolApp").service("userAddDetailsService",["userAddDetailsToRESTService","$q",o])}(),function(){"use strict";var o=function(o,e){this.schoolAppLoginFromRESTService=o,this.$q=e};o.prototype.login=function(o,e){console.log("Fromservice1",o,e);var s=this.$q.defer();return this.schoolAppLoginFromRESTService.login(o,e).then(function(o){console.log("loginornot",o),s.resolve(o)}).catch(function(o){s.reject(o)}),s.promise},angular.module("schoolApp").service("schoolAppLoginService",["schoolAppLoginFromRESTService","$q",o])}(),function(){"use strict";var o=function(o,e){this.questionFromRESTService=o,this.$q=e};o.prototype.getQuestions=function(o,e){console.log("get questions form service");var s=this.$q.defer();return this.questionFromRESTService.getQuestions().then(function(o){console.log("questions",o),s.resolve(o)}).catch(function(o){s.reject(o)}),s.promise},angular.module("schoolApp").service("questionService",["questionFromRESTService","$q",o])}(),function(){"use strict";var o=function(o){this.$http=o};o.prototype.createUser=function(o){console.log("Fromservice2",o);return this.$http.post("http://localhost:3000/api/user",o)},angular.module("schoolApp").service("userAddDetailsToRESTService",["$http",o])}(),function(){"use strict";var o=function(o){this.$http=o};o.prototype.login=function(o,e){console.log("Fromservice2",o,e);return this.$http.post("http://localhost:3000/api/login",{username:o,password:e})},angular.module("schoolApp").service("schoolAppLoginFromRESTService",["$http",o])}(),function(){"use strict";var o=function(o){this.$http=o};o.prototype.getQuestions=function(){console.log("From question service");return this.$http.get("http://localhost:3000/api/questions")},angular.module("schoolApp").service("questionFromRESTService",["$http",o])}(),function(){"use strict";angular.module("schoolApp").controller("userQuestionsCtrl",["$scope","schoolAppLoginService","$q","$location","$routeParams",function(o,e,s,t,r){var n;(n=this).$q=s,n.schoolAppLoginService=e,n.username="",n.password="",n.getUserQuestions=function(o){console.log("userDetails",o),n.userDetails=JSON.parse(o),console.log("uqc.userDetails",n.userDetails)},n.getUserQuestions(r.userId),n.submitForm=function(){n.answer1==n.userDetails.answer1&&n.answer2==n.userDetails.answer2&&n.answer3==n.userDetails.answer3&&t.path("/userDetails/"+n.userDetails.userName)}}])}(),function(){"use strict";angular.module("schoolApp").controller("userDetailsCtrl",["$scope","schoolAppLoginService","$q","$location","$routeParams",function(o,e,s,t,r){var n;(n=this).$q=s,n.schoolAppLoginService=e,n.username="",n.password="",n.onLoad=function(o){console.log("username",r.username),n.username=o},n.onLoad(r.username)}])}(),function(){"use strict";angular.module("schoolApp").controller("userAddDetailsCtrl",["$scope","questionService","$q","$location","userAddDetailsService",function(o,e,s,t,r){var n;(n=this).$q=s,n.questionService=e,n.userAddDetailsService=r,n.postData={userName:"",password:"",question1:"",question2:"",question3:"",answer1:"",answer2:"",answer3:""},n.goToLogin=function(){t.path("/")},n.getQuestions=function(){n.questionService.getQuestions().then(function(o){console.log("questions",o),n.mainQuestions=o.data})},n.getQuestions(),n.selectedQuestion=function(){},n.postDataToService=function(){console.log(n.postData),n.userAddDetailsService.createUser(JSON.parse(JSON.stringify(n.postData)))}}])}(),function(){"use strict";angular.module("schoolApp").controller("loginAppCtrl",["$scope","schoolAppLoginService","$q","$location",function(o,e,s,t){var r;(r=this).$q=s,r.schoolAppLoginService=e,r.username="",r.password="",r.goToAddUser=function(){t.path("/userAddDetails")},r.login=function(){console.log("username",r.username),console.log("password",r.password),r.schoolAppLoginService.login(r.username,r.password).then(function(o){console.log("loginornot",o),o=o.data[0],console.log("loginornot         check",o),console.log("loginornot.password",o.password),o&&o.password==r.password&&t.path("/userQuestions/"+JSON.stringify(o))})},r.goToForgotPassword=function(){t.path("/forgotPassword")}}])}(),function(){"use strict";angular.module("schoolApp").controller("forgotPasswordCtrl",["$scope","schoolAppLoginService","$q","$location",function(o,e,s,t){var r;(r=this).$q=s,r.schoolAppLoginService=e,r.username="",r.password="",r.showDetails=!1,r.userDetails={},r.showPassword=!1,r.getUserDetails=function(){r.schoolAppLoginService.login(r.username).then(function(o){r.showDetails=!0,console.log("loginornot",o),r.userDetails=o.data[0]})},r.getPassword=function(){r.answer1==r.userDetails.answer1&&(r.showPassword=!0)},r.backtoLogin=function(){t.path("/")}}])}(),angular.module("schoolApp").config(["$routeProvider","$locationProvider",function(o,e){o.when("/",{templateUrl:"./html/components/html/login.html",controller:"loginAppCtrl",controllerAs:"lac"}).when("/userQuestions/:userId",{templateUrl:"./html/components/html/user_questions.html",controller:"userQuestionsCtrl",controllerAs:"uqc"}).when("/userDetails/:username",{templateUrl:"./html/components/html/user_details.html",controller:"userDetailsCtrl",controllerAs:"udc"}).when("/userAddDetails",{templateUrl:"./html/components/html/user_add_details.html",controller:"userAddDetailsCtrl",controllerAs:"uadc"}).when("/forgotPassword",{templateUrl:"./html/components/html/forgot_password.html",controller:"forgotPasswordCtrl",controllerAs:"fpc"}).otherwise({redirectTo:"/"})}]);